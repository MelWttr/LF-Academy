const ESC_KEYCODE = 27; var logos = document.querySelectorAll(".logos__item"), modal = document.querySelector(".modal"), modalImage = modal.querySelector(".popup__image"), overlay = modal.querySelector(".overlay"), closeBtn = modal.querySelector(".popup__button"); logos.forEach(e => { e.addEventListener("click", () => { modalImage.src = e.children[0].src, modalImage.alt = e.children[0].alt, modal.classList.remove("hidden"), document.addEventListener("keydown", onPopupEscPress) }) }); var closePopup = function () { modal.classList.add("hidden"), document.removeEventListener("keydown", onPopupEscPress) }, onPopupEscPress = function (e) { 27 === e.keyCode && closePopup() }; closeBtn.addEventListener("click", closePopup), overlay.addEventListener("click", closePopup);